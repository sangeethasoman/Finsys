{% extends 'app1/base.html' %}
{% block body %}
{% load static %}
<div class="page-content">
    <div class="card radius-15">
        <div class="card-body">
            <div class="card-title">
                <center>
                    <h3 class="mb-0">EDIT EMPLOYEE</h3>
                </center>
            </div>
            <hr />
        </div>
    </div>
    <div class="card radius-15" style="background-color: #243e54;">
        <form action="{% url 'editpayrollemployee' employee.employeeid %}" method="post" class="needs-validation" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            {% if user.is_authenticated %}
            <div class="card-body">
                <div class="card-title">
                    <h4 class="mb-0">Employee Information</h4>
                </div>
                <hr />         
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="title">Title</label>
                            <select name="title" id="title" class="form-control">
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Miss">Miss</option>
                                <option value="Ms">Ms</option>
                            </select>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="firstname">First name</label>
                            <input type="text" class="form-control" id="firstname" name="firstname"  value="{{employee.firstname}}"
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="lastname">Last name</label>
                            <input type="text" class="form-control" id="last_name" name="lastname" value="{{employee.lastname}}" 
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="alias">Alias</label>
                            <input type="text" class="form-control" id="alias" name="alias" value="{{employee.alias}}"
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="companyname">Company</label>
                            <input type="text" class="form-control" id="companyname" name="companyname" value="{{employee.company}}"
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="location">Location</label>
                            <input type="text" class="form-control" id="location" name="location" value="{{employee.location}}"
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="gsttype">GST type</label>
                            <select class="custom-select" id="gsttype" name="gsttype" value="{{employee.gsttype}}"
                                onclick="hidinput('hello', this),disinput('hai', this) ,disinput2('hai1', this)"
                                style="background-color: #243e54; color: white;" >
                                <option selected disabled value="">Choose...</option>
                                <option>GST-registered-Regular</option>
                                <option>GST-registered-Composition</option>
                                <option>GST-unregistered</option>
                                <option>Consumer</option>
                                <option>Overseas</option>
                                <option>SEZ</option>
                                <option>Deemed exports - EOU's STP's EHTP's etc</option>
                                <option>Exempt</option>
                            </select>
                            <div class="invalid-feedback">Please select a valid registration type.</div>
                        </div>

                        <div class="col-md-4 mt-3" id="hello" style="display: none;">
                            <div>
                                <label for="gstin">GSTIN</label>
                                <input type="text" class="form-control" onchange="checkgst(this)" id="gstin" name="gstin" value="{{employee.gstin}}"
                                    style="background-color: #2f516f;color: white;"  placeholder="29APPCK7465F1Z1"
                                    >
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div>


                        <div class="col-md-4 mt-3">
                            <label for="panno">PAN No.</label>
                            <input type="text" class="form-control" id="panno" name="panno" value="{{employee.panno}}"
                                style="background-color: #2f516f;color: white;" onchange="checkpan(this)"
                                placeholder="APPCK7465F" >
                            <div class="text-danger m-2" id="warnpan"></div>
                        </div>

                        <div class="col-md-4 mt-3">
                            <div>
                                <label for="openbalance">Opening Balance</label>
                                <input type="number" class="form-control"  name="openbalance" value="{{employee.openbalance}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="text-danger m-2"></div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" name="email" value="{{employee.email}}"
                                style="background-color: #2f516f;color: white;" placeholder="finsys@mail.com">
                            <div class="invalid-feedback">Please provide a valid Email</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="website">Website</label>
                            <input type="text" class="form-control" id="website" placeholder="www.finsys.com" value="{{employee.website}}"
                                onchange="checkweb(this)" name="website" style="background-color: #2f516f;color: white;">
                            <div id="warnweb" class="text-danger"></div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="mobile">Mobile</label>
                            <input type="text" class="form-control" id="mobile" onchange="checkphone(this)" value="{{employee.mobile}}"
                                name="mobile" style="background-color: #2f516f;color: white;">
                            <div class="text-danger m-2" id="warnphone"></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="Employees">Employees</label>
                            <select name="employees" id="Employees" class="form-control" value="{{employee.employees}}" onchange="DefineSalaryShow()">
                                <option value="Fixed">Fixed</option>
                                <option value="Timebased">Time Based</option>
                                <option value="Temporary">Temporary</option>
                            </select>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="join_date">Date Of Joining</label>
                            <input type="date" class="form-control" id="join_date" name="joindate" value="{{employee.joindate}}"
                                style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3 pt-4">
                            <label>Define Salary Details :</label>&nbsp;&nbsp;
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="yes" name="salarydetails" 
                                    onchange="show(this.value)" value="Yes">
                                <label class="form-check-label">Yes</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="no" name="salarydetails"
                                    onchange="show2(this.value)" value="No">
                                <label class="form-check-label">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 mt-4">
                            <div class="form-input" style="background-color: #243e54;">
                                <div class="preview">
                                    <img id="file-ip-1-preview">
                                </div>
                                <label for="file-ip-1">Upload Image</label>
                                <input type="file" id="file-ip-1" class="form-control" name="image" accept="image/*" value="{{employee.image}}"
                                     onchange="showPreview(event);" />
                            </div>
                        </div>
                    </div>
                    <div class="desc" id="Salarydetails" style="display: none;">
                        <hr>
                        <div class="row mt-3">
                            <div class="col-md-4">
                                <label for="sal_name">Name</label>
                                <input type="text" readonly class="form-control" id="sal_name" name="sal_name" value="{{employee.sal_name}}"
                                    style="background-color: #2f516f; color: white;">
                            </div>
                            <div class="col-md-4">
                                <label for="sal_employees">Employee</label>
                                <input type="text" readonly class="form-control" id="sal_employees" value="{{employee.sal_employees}}"
                                    onchange="checkweb(this)" name="sal_employees"
                                    style="background-color: #2f516f; color: white;">
                                <div id="sal_employees" class="text-danger"></div>
                            </div>
                            <div class="col-md-4">
                                <label for="payhead">Pay Head</label>
                                <select name="payhead" id="payhead" class="form-control" value="{{employee.payhead}}">
                                    <option value="Cash">Cash</option>
                                    <option value="BankThrough">Bank</option>
                                </select>
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-3 md-4">
                                <label for="effectivefrom">Effective From</label>
                                <input type="date" class="form-control" id="effectivefrom" name="effectivefrom" value="{{employee.effectivefrom}}"
                                    style="background-color: #2f516f; color: white;" min="0" value="0">
                                <div class="text-danger m-2" id="effectivefrom"></div>
                            </div>
                            <div class="col-3 md-4 time_based_show">
                                <label for="hours">Hours</label>
                                <input type="number" class="form-control" id="hours" name="hours" value="{{employee.hours}}"
                                    style="background-color: #2f516f; color: white;" min="0" value="0">
                                <div class="text-danger m-2" id="Hours"></div>
                            </div>
                            <div class="col-3 md-4 time_based_show">
                                <label for="rate">Rate</label>
                                <input type="number" class="form-control" id="rate" name="rate" value="{{employee.rate}}"
                                    style="background-color: #2f516f; color: white;" min="0" value="0">
                                <div class="text-danger m-2" id="Rate"></div>
                            </div>
                            
                            <div class="col-3 md-4">
                                <label for="amount">Amount</label>
                                <input type="number" class="form-control" id="amount" name="amount" value="{{employee.amount}}"
                                    style="background-color: #2f516f; color: white;" min="0" value="0">
                                <div class="text-danger m-2" id="Amount"></div>
                            </div>
                        </div>
                    </div>
            </div>
            <hr>
            <div class="card-body">
                <div class="card-title">
                    <h4 class="mb-0">General Information</h4>
                </div>
                <hr>
                <div class="row gx-1 ">

                    <div class="col-md-6">
                        <div class="row">
                            <div class="col-6 md-4 mt-3">
                                <label for="employeeno">Employee No:</label>
                                <input type="text" class="form-control" id="employeeno" name="employeeno"  value="{{employee.employeeno}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                            <div class="col-6 md-4 mt-3">
                                <label for="designation">Designation</label>
                                <input type="text" class="form-control" id="designation" name="designation"  value="{{employee.designation}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 md-4 mt-3">
                                <label for="function">Function</label>
                                <input type="text" class="form-control" id="function" name="function"  value="{{employee.function}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                            <div class="col-6 md-4 mt-3">
                                <label for="gender">Gender</label>
                                <select name="gender" id="gender" class="form-control"  value="{{employee.gender}}">
                                    <option value="Unknown">Unknown</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Others">Others</option>
                                </select>
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 md-4 mt-3">
                                <label for="dateofbirth">Date Of Birth</label>
                                <input type="date" class="form-control" id="dateofbirth" name="dateofbirth"  value="{{employee.dateofbirth}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>

                            <div class="col-6 md-4 mt-3">
                                <label for="bloodgroup">Blood Group</label>
                                <select name="bloodgroup" id="bloodgroup" class="form-control"  value="{{employee.bloodgroup}}">
                                    <option value="O+ve">O+ve</option>
                                    <option value="O-ve">O-ve</option>
                                    <option value="A+ve">A+ve</option>
                                    <option value="B+ve">B+ve</option>
                                    <option value="AB+ve">AB+ve</option>
                                    <option value="AB-ve">AB-ve</option>
                                    <option value="A-ve">A-ve</option>
                                    <option value="B-ve">B-ve</option>
                                    <option value="Others">Others</option>
                                </select>
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6 md-4 mt-3">
                                <label for="fathersmothersname">Father's/Mother's Name</label>
                                <input type="text" class="form-control" id="fathersmothersname" name="fathersmothersname"  value="{{employee.fathersmothersname}}"
                                     style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                            <div class="col-6 md-4 mt-3">
                                <label for="spousename">Spouse Name</label>
                                <input type="text" class="form-control" id="spousename" name="spousename"  value="{{employee.spousename}}"
                                    style="background-color: #2f516f;color: white;">
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 md-4 mt-3">
                                <label for="address">Address</label>
                                <textarea class="form-control" id="address" name="address" 
                                    style="background-color: #2f516f;color: white;">{{employee.address}}</textarea>
                                <div class="valid-feedback">Looks good!</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 md-4 mt-3">
                                <label for="email">Email Id</label>
                                <input type="email" class="form-control" id="email" name="generalemail"  value="{{employee.generalemail}}"
                                    style="background-color: #2f516f;color: white;" placeholder="finsys@mail.com">
                                <div class="invalid-feedback">Please provide a valid Email</div>
                            </div>

                            <div class="col-6 md-4 mt-3">
                                <label for="phone">Phone</label>
                                <input type="text" class="form-control" id="phone" onchange="checkphone(this)"  value="{{employee.generalphone}}"
                                    name="generalphone" style="background-color: #2f516f;color: white;">
                                <div class="text-danger m-2" id="warnphone"></div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-6">
                        <div class="col -12-md-4 pt-4">
                            <label for="drp_Bank_Details">Provide Bank Details </label>
                            <select name="bankdetails" id="drp_Bank_Details" class="form-control"  value="{{employee.bankdetails}}"
                                onchange="toggleDivVisibility()">
                                <option value="No">No</option>
                                <option value="Yes">Yes</option>
                                <option value="Unknown">Unknown</option>
                            </select>
                        </div>
                        <div class="desc" id="Bank_Details" style="display: none;">

                            <div class="card-body">
                                <div class="card-title">
                                    <h5 class="mb-0">For Statutory & Pay roll Reports</h5>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-6 md-4">
                                        <label for="bank_num">A/C No:</label>
                                        <input type="text" class="form-control" id="bank_num" name="acno" value="{{employee.acno}}"
                                            style="background-color: #2f516f; color: white;">
                                        <div class="text-danger"></div>
                                    </div>
                                    <div class="col-6 md-4">
                                        <label for="IFSCCode">IFSC Code</label>
                                        <input type="text" class="form-control" id="IFSCCode" name="ifsccode" value="{{employee.ifsccode}}"
                                            style="background-color: #2f516f; color: white;">
                                        <div class="text-danger"></div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-6 md-4">
                                        <label for="BankName">Bank Name</label>
                                        <input type="text" class="form-control" id="BankName" name="bankname" value="{{employee.bankname}}"
                                            style="background-color: #2f516f; color: white;">
                                        <div class="text-danger"></div>
                                    </div>

                                    <div class="col-6 md-4">
                                        <label for="bank_Branch_Name">Branch Name</label>
                                        <input type="text" class="form-control" id="bank_Branch_Name" name="branchname" value="{{employee.branchname}}"
                                            style="background-color: #2f516f; color: white;">
                                        <div class="text-danger"></div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col mt-3">
                                        <h5 class="mb-0">For Banking</h5>
                                        <hr>
                                        <label for="transactiontype" class="mt-3"> Transaction Type</label>
                                        <select name="transactiontype" id="transactiontype" class="form-control" value="{{employee.transactiontype}}">
                                            <option value="Unknown">Unknown</option>
                                            <option value="Yes">End of List</option>
                                            <option value="No">Cheque</option>
                                            <option value="No">e-Fund Transfer</option>
                                            <option value="No">ATM</option>
                                            <option value="No">Card</option>
                                            <option value="No">ECS</option>
                                            <option value="No">Others</option>
                                        </select>
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="card-body">
                            <div class="card-title">
                                <h5 class="mb-0"> Statutory Details</h5>
                                <hr>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <label for="pannumber">PAN Number </label>
                                    <input type="text" class="form-control" id="pannumber" name="pannumber" value="{{employee.pannumber}}"
                                        placeholder="ABCDE1234A" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" 
                                        style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                                <div class="col">
                                    <label for="aadhaarnumber">Aadhaar Number </label>
                                    <input type="text" class="form-control pan" id="aadhaarnumber" name="aadhaarnumber" value="{{employee.aadhaarnumber}}"
                                        size="20" placeholder="1234 1234 1234" pattern="[0-9]{4} [0-9]{4} [0-9]{4}" 
                                        style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                            </div>
                            &nbsp;
                            <div class="row">
                                <div class="col">
                                    <label for="universalaccountnumber">Universal Account Number </label>
                                    <input type="text" class="form-control" id="universalaccountnumber" value="{{employee.universalaccountnumber}}"
                                        name="universalaccountnumber" style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                                <div class="col">
                                    <label for="pfaccountnumber">PF Account Number</label>
                                    <input type="text" class="form-control" id="pfaccountnumber" name="pfaccountnumber" value="{{employee.pfaccountnumber}}"
                                        style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                            </div>
                            &nbsp;
                            <div class="row">
                                <div class="col">
                                    <label for="praccountnumber">PR Account Number</label>
                                    <input type="text" class="form-control" id="praccountnumber" name="praccountnumber" value="{{employee.praccountnumber}}"
                                        style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                                <div class="col">
                                    <label for="esinumber">ESI Number </label>
                                    <input type="text" class="form-control" id="esinumber" name="esinumber" value="{{employee.esinumber}}"
                                        style="background-color: #2f516f;color: white;">
                                    <div class="valid-feedback">Looks good!</div>
                                </div>
                            </div>
                        </div>



                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-md-6 mt-5">
                        <div class="row">
                            <div class="col-md-12 card-title">
                                <h5 class="mb-0">Temporary Address</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 mt-3">
                                <div class="form-row">
                                    <label for="street">Street</label>
                                    <textarea class="form-control street" id="street" name="street"  
                                        style="background-color: #2f516f;color: white;">{{employee.street}}</textarea>
                                    <div class="invalid-feedback">Please provide a valid Street</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="city">City</label>
                                    <input type="text" class="form-control" id="city" name="city"  value="{{employee.city}}"
                                        style="background-color: #2f516f;color: white;" placeholder="City">
                                    <div class="invalid-feedback">Please provide a valid City</div>
                                </div>
                            </div>
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="state">State</label>
                                    <select type="text" class="form-control" id="state" name="state"  value="{{employee.state}}"
                                        style="background-color: #2f516f; color: white;">
                                        <option value="" disabled selected>Choose</option>
                                        <option value="Andaman and Nicobar Islads">Andaman and Nicobar
                                            Islands
                                        </option>
                                        <option value="Andhra Predhesh">Andhra Predhesh</option>
                                        <option value="Arunachal Predesh">Arunachal Predesh</option>
                                        <option value="Assam">Assam</option>
                                        <option value="Bihar">Bihar</option>
                                        <option value="Chandigarh">Chandigarh</option>
                                        <option value="Chhattisgarh">Chhattisgarh</option>
                                        <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli
                                        </option>
                                        <option value="Damn anad Diu">Damn anad Diu</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Goa">Goa</option>
                                        <option value="Gujarat">Gujarat</option>
                                        <option value="Haryana">Haryana</option>
                                        <option value="Himachal Predesh">Himachal Predesh</option>
                                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                        <option value="Jharkhand">Jharkhand</option>
                                        <option value="Karnataka">Karnataka</option>
                                        <option value="Kerala">Kerala</option>
                                        <option value="Ladakh">Ladakh</option>
                                        <option value="Lakshadweep">Lakshadweep</option>
                                        <option value="Madhya Predesh">Madhya Predesh</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Manipur">Manipur</option>
                                        <option value="Meghalaya">Meghalaya</option>
                                        <option value="Mizoram">Mizoram</option>
                                        <option value="Nagaland">Nagaland</option>
                                        <option value="Odisha">Odisha</option>
                                        <option value="Puducherry">Puducherry</option>
                                        <option value="Punjab">Punjab</option>
                                        <option value="Rajasthan">Rajasthan</option>
                                        <option value="Sikkim">Sikkim</option>
                                        <option value="Tamil Nadu">Tamil Nadu</option>
                                        <option value="Telangana">Telangana</option>
                                        <option value="Tripura">Tripura</option>
                                        <option value="Uttar Predesh">Uttar Predesh</option>
                                        <option value="Uttarakhand">Uttarakhand</option>
                                        <option value="West Bengal">West Bengal</option>
                                        <option value="Other Territory">Other Territory</option>
                                    </select>
                                    <div class="invalid-feedback">Please provide a valid State</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="pinco">Pin Code</label>
                                    <input type="text" class="form-control" id="pinco" name="pincode"  value="{{employee.pincode}}"
                                        style="background-color: #2f516f;color: white;" placeholder="PIN code">
                                    <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                </div>
                            </div>
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="country">Country</label>
                                    <input type="text" class="form-control" id="country" name="country"  value="{{employee.country}}"
                                        style="background-color: #2f516f;color: white;" placeholder="Country">
                                    <div class="invalid-feedback">Please provide a valid Country</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mt-5">
                        <div class="row">
                            <div class="col-md-12 d-flex">
                                <h5>Permanent Address</h5>
                                <input class="ml-4 mb-2 ml-2" type="checkbox" onclick="poppins()" id="okay" name="okay">
                                <label class="ml-2 mb-2 ml-2 mb-0" for="okay">Same As Billing Address</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 mt-3">
                                <div class="form-row">
                                    <label for="shipstreet">Street</label>
                                    <textarea class="form-control" id="shipstreet" name="shipstreet"
                                        style="background-color: #2f516f;color: white;">{{employee.shipstreet}}</textarea>
                                    <div class="invalid-feedback">Please provide a valid Street</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="shipcity">City</label>
                                    <input type="text" class="form-control" id="shipcity" name="shipcity"  value="{{employee.shipcity}}"
                                        style="background-color: #2f516f;color: white;" placeholder="City">
                                    <div class="invalid-feedback">Please provide a valid City</div>
                                </div>
                            </div>
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="shipstate">State</label>
                                    <select type="text" class="form-control" id="shipstate" name="shipstate"  value="{{employee.shipstate}}"
                                        style="background-color: #2f516f; color: white;">
                                        <option id="shipst" selected>Choose</option>
                                        <option value="Andaman and Nicobar Islads">Andaman and Nicobar
                                            Islads
                                        </option>
                                        <option value="Andhra Predhesh">Andhra Predhesh</option>
                                        <option value="Arunachal Predesh">Arunachal Predesh</option>
                                        <option value="Assam">Assam</option>
                                        <option value="Bihar">Bihar</option>
                                        <option value="Chandigarh">Chandigarh</option>
                                        <option value="Chhattisgarh">Chhattisgarh</option>
                                        <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli
                                        </option>
                                        <option value="Damn anad Diu">Damn anad Diu</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Goa">Goa</option>
                                        <option value="Gujarat">Gujarat</option>
                                        <option value="Haryana">Haryana</option>
                                        <option value="Himachal Predesh">Himachal Predesh</option>
                                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                        <option value="Jharkhand">Jharkhand</option>
                                        <option value="Karnataka">Karnataka</option>
                                        <option value="Kerala">Kerala</option>
                                        <option value="Ladakh">Ladakh</option>
                                        <option value="Lakshadweep">Lakshadweep</option>
                                        <option value="Madhya Predesh">Madhya Predesh</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Manipur">Manipur</option>
                                        <option value="Meghalaya">Meghalaya</option>
                                        <option value="Mizoram">Mizoram</option>
                                        <option value="Nagaland">Nagaland</option>
                                        <option value="Odisha">Odisha</option>
                                        <option value="Puducherry">Puducherry</option>
                                        <option value="Punjab">Punjab</option>
                                        <option value="Rajasthan">Rajasthan</option>
                                        <option value="Sikkim">Sikkim</option>
                                        <option value="Tamil Nadu">Tamil Nadu</option>
                                        <option value="Telangana">Telangana</option>
                                        <option value="Tripura">Tripura</option>
                                        <option value="Uttar Predesh">Uttar Predesh</option>
                                        <option value="Uttarakhand">Uttarakhand</option>
                                        <option value="West Bengal">West Bengal</option>
                                        <option value="Other Territory">Other Territory</option>
                                    </select>
                                    <div class="invalid-feedback">Please provide a valid State</div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="shippinco">Pin Code</label>
                                    <input type="text" class="form-control" id="shippinco" name="shippincode"  value="{{employee.shippincode}}"
                                        style="background-color: #2f516f;color: white;" placeholder="PIN code">
                                    <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                </div>
                            </div>
                            <div class="col-md-6 mt-3">
                                <div class="form-row">
                                    <label for="shipcountry">Country</label>
                                    <input type="text" class="form-control" id="shipcountry" name="shipcountry"  value="{{employee.shipcountry}}"
                                        style="background-color: #2f516f;color: white;" placeholder="Country">
                                    <div class="invalid-feedback">Please provide a valid Country</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="invalidCheck" 
                                style="background-color: #2f516f;">
                            <label>Agree to Terms and Conditions</label>
                            <div class="invalid-feedback">You must agree before submitting.</div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4"></div>
                    <div class="col-md-4">
                        <button class="btn btn-outline-info rounded-pill text-grey w-100 mt-3 mb-3" type="submit">
                            UPDATE
                        </button>
                    </div>
                    <div class="col-md-4"></div>
                </div>
                
            </div>
            {% endif %}
        </form>
    </div>
</div>














<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    function poppins() {
        var chkbtn = document.getElementById('okay');
        if (chkbtn.checked == true) {
            document.getElementById('shipstreet').value = document.getElementById('street').value;
            document.getElementById('shipcity').value = document.getElementById('city').value;
            document.getElementById('shippinco').value = document.getElementById('pinco').value;
            document.getElementById('shipcountry').value = document.getElementById('country').value;
            document.getElementById('shipstate').value = document.getElementById('state').value; 
        } else {
            document.getElementById('shipstreet').value = '';
            document.getElementById('shipcity').value = '';
            document.getElementById('shipstate').value = '';
            document.getElementById('shippinco').value = '';
            document.getElementById('shipcountry').value = '';
        }
    }
</script>
<script>
    // function hidinput(divId, element) {
    //     if (element.value == 'GST unregistered' || element.value == 'Consumer' || element.value == 'Overseas') {
    //         document.getElementById(divId).style.display = 'none';
    //     } else {
    //         document.getElementById(divId).style.display = 'block';
    //     }
    // }

    function hidinput(divId, element) {
        if (element.value == 'GST-registered-Regular') {
            document.getElementById(divId).style.display = 'block';
        } else {
            document.getElementById(divId).style.display = 'none';
        }
    }

    function disinput(divId, element) {
        if (element.value == 'GST-registered-Regular') {
            document.getElementById(divId).style.display = 'block';
        } else {
            document.getElementById(divId).style.display = 'none';
        }
    }

    function disinput2(divId, element) {
        if (element.value == 'GST-registered-Regular') {
            document.getElementById(divId).style.display = 'block';
        } else {
            document.getElementById(divId).style.display = 'none';
        }
    }



    function checkgst(element) {
        var gstinput = element.value;
        var gstregexp = "[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9A-Za-z]{1}[Z]{1}[0-9a-zA-Z]{1}";
        if (gstinput.match(gstregexp)) {
            document.getElementById('warngst').innerHTML = '';
        } else {
            document.getElementById('warngst').innerHTML = 'Please provide a valid GST Number';
            alert('Please provide a valid GST Number');
        }
    }

    function checkpan(element) {
        var paninput = element.value;
        var panregexp = ["[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"]
        if (paninput.match(panregexp)) {
            document.getElementById('warnpan').innerHTML = '';
        } else {
            document.getElementById('warnpan').innerHTML = 'Please provide a valid PAN Number';
            alert('Please provide a valid PAN Number')
        }
    }

    function checkweb(element) {
        var webinput = element.value;
        var webregexp = "www."
        if (webinput.startsWith(webregexp)) {
            document.getElementById('warnweb').innerHTML = '';
        } else {
            document.getElementById('warnweb').innerHTML = 'Please provide a valid Website Address';
            alert('Please provide a valid Website Address')
        }
    }

    function checkphone(element) {
        var phoneinput = element.value;
        var phoneregexp = "[0-9]{10}";
        if (phoneinput.match(phoneregexp)) {
            document.getElementById('warnphone').innerHTML = '';
        } else {
            document.getElementById('warnphone').innerHTML = 'Please provide a valid Phone Number';
            alert('Please provide a valid Phone Number')
        }
    }
</script>
<script>
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
</script>
</script>
<script type="text/javascript">
    function show(str) { 
        if (document.getElementById('Employees').value != 'Timebased') {
            $('#amount').prop('readonly', false);
            var elements = document.getElementsByClassName('time_based_show');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.visibility = 'hidden';
            }
        }
        else {
            $('#amount').prop('readonly', true);
            var elements = document.getElementsByClassName('time_based_show');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.visibility = 'visible';
            }
        }

        document.getElementById('sal_name').value = document.getElementById('firstname').value;
        document.getElementById('sal_employees').value = $('#Employees').find(":selected").text();
        document.getElementById('Salarydetails').style.display = 'none';
        document.getElementById('Salarydetails').style.display = 'block';
    }

    function show2(sign) {
        document.getElementById('sal_name').value = "";
        document.getElementById('sal_employees').value = "";
        document.getElementById('Salarydetails').style.display = 'block';
        document.getElementById('Salarydetails').style.display = 'none';
        document.getElementById('time_based_show').style.display = 'none';
        document.getElementById('time_based_show').style.display = 'block';
    }

    function toggleDivVisibility() {
        var selectElement = document.getElementById("drp_Bank_Details");
        var selectedValue = selectElement.value;
        var bankDiv = document.getElementById("Bank_Details");

        if (selectedValue === "Yes") {
            bankDiv.style.display = "block";  // Show the div
        } else {
            bankDiv.style.display = "none";   // Hide the div
        }
    }

    function DefineSalaryShow() {
        if (document.getElementById('Employees').value != 'Timebased') {
            $('#amount').prop('readonly', false);
            var elements = document.getElementsByClassName('time_based_show');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.visibility = 'hidden';
            }
        }
        else {
            $('#amount').prop('readonly', true);
            var elements = document.getElementsByClassName('time_based_show');
            for (var i = 0; i < elements.length; i++) {
                elements[i].style.visibility = 'visible';
            }
        }

        document.getElementById('sal_name').value = document.getElementById('firstname').value;
        document.getElementById('sal_employees').value = $('#Employees').find(":selected").text();
    }

    $('#hours, #rate').on('input', function () {
        var hours = parseFloat($('#hours').val());
        var rate = parseFloat($('#rate').val());
        var amount = hours * rate;
        $('#amount').val(amount);
    });

    function showPreview(event) {
        if (event.target.files.length > 0) {
            var src = URL.createObjectURL(event.target.files[0]);
            var preview = document.getElementById("file-ip-1-preview");
            preview.src = src;
            preview.style.display = "block";
        }
    }
        $(document).ready(function() { 
         $("#title").val("{{employee.title}}");
         $("#gsttype").val("{{employee.gsttype}}");
         $("#Employees").val("{{employee.employees}}");
         $("#drp_Bank_Details").val("{{employee.bankdetails}}");
         $("#gender").val("{{employee.gender}}");
         $("#bloodgroup").val("{{employee.bloodgroup}}");
         $("#state").val("{{employee.state}}");
         $("#shipstate").val("{{employee.shipstate}}");
         if("{{employee.salarydetails}}" == 'Yes')
         {
          $('input:radio[name="salarydetails"][value="Yes"]').prop('checked', true);
           show('Yes')
         }
         else{
            $('input:radio[name="salarydetails"][value="No"]').prop('checked', true);
            show2('No')
         }
         DefineSalaryShow();
         toggleDivVisibility();
        });

</script>
{% endblock %}